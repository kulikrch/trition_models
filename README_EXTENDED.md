# ๐ ML Deployment Project - Extended Version

ะะพะปะฝัะน ML ะฟะฐะนะฟะปะฐะนะฝ ั ะฒะตะฑ-ะธะฝัะตััะตะนัะพะผ, ะผะพะฝะธัะพัะธะฝะณะพะผ ะธ ะบะพะฝัะตะนะฝะตัะธะทะฐัะธะตะน.

## ๐ฏ ะงัะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ

### โ ะะฐะทะพะฒัะน ML ะฟะฐะนะฟะปะฐะนะฝ
- ๐๏ธ **ะะฑััะตะฝะธะต ะผะพะดะตะปะธ** ะฝะฐ CPU
- ๐ **ะะพะฝะฒะตััะฐัะธั** PyTorch โ ONNX
- โก **ะะฟัะธะผะธะทะฐัะธั** ะดะปั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ
- ๐งช **ะขะตััะธัะพะฒะฐะฝะธะต** ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ

### ๐ ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต
- ๐ค **ะะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน** ัะตัะตะท ะฑัะฐัะทะตั
- ๐ค **ะะปะฐััะธัะธะบะฐัะธั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ**
- ๐ **ะกัะฐัะธััะธะบะฐ** ะฟัะตะดัะบะฐะทะฐะฝะธะน
- ๐จ **ะัะฐัะธะฒัะน ะธะฝัะตััะตะนั** ั drag&drop
- โก **ะะพะบะฐะท ะฒัะตะผะตะฝะธ ะธะฝัะตัะตะฝัะฐ**

### ๐ ะกะธััะตะผะฐ ะผะพะฝะธัะพัะธะฝะณะฐ
- ๐ **Prometheus** ะดะปั ัะฑะพัะฐ ะผะตััะธะบ
- ๐ **Grafana** ะดะฐัะฑะพัะดั
- ๐ป **ะกะธััะตะผะฝัะต ะผะตััะธะบะธ** (CPU, ะฟะฐะผััั)
- ๐ณ **ะะตััะธะบะธ ะบะพะฝัะตะนะฝะตัะพะฒ**

### ๐ณ ะะพะฝัะตะนะฝะตัะธะทะฐัะธั
- ๐๏ธ **Docker** ะพะฑัะฐะทั ะดะปั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ
- ๐ผ **Docker Compose** ะพัะบะตัััะฐัะธั
- ๐ **ะะฒัะพะผะฐัะธัะตัะบะธะต health checks**
- ๐ **Nginx** ัะตะฒะตัั-ะฟัะพะบัะธ

## ๐ ะัััััะน ััะฐัั

### 1. ะะฐะทะพะฒะฐั ะฝะฐัััะพะนะบะฐ
```bash
# ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
pip install -r requirements-windows.txt
pip install "numpy<2.0" jinja2 python-multipart

# ะะฑััะตะฝะธะต ะผะพะดะตะปะธ (ะตัะปะธ ะตัะต ะฝะต ัะดะตะปะฐะฝะพ)
python working_demo.py
```

### 2. ะะฐะฟััะบ ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั
```bash
# ะัะพััะพะน ะทะฐะฟััะบ
python web_app.py

# ะะปะธ ะฐะฒัะพะผะฐัะธัะตัะบะธะน ะทะฐะฟััะบ ั ะฒัะฑะพัะพะผ ะพะฟัะธะน
python launch_complete_system.py
```

### 3. ะะพะปะฝะฐั ัะธััะตะผะฐ ั ะผะพะฝะธัะพัะธะฝะณะพะผ
```bash
# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ ะฒ Docker
docker-compose -f docker-compose-extended.yml up -d

# ะะปะธ ัะตัะตะท ัะบัะธะฟั
python launch_complete_system.py
# ะัะฑะตัะธัะต ะพะฟัะธั 2
```

## ๐ ะะพัััะฟะฝัะต ัะตัะฒะธัั

| ะกะตัะฒะธั | URL | ะะฟะธัะฐะฝะธะต |
|--------|-----|----------|
| ๐ค **ML Web App** | http://localhost:8000 | ะัะฝะพะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต |
| ๐ **Prometheus** | http://localhost:9090 | ะะตััะธะบะธ |
| ๐ **Grafana** | http://localhost:3000 | ะะฐัะฑะพัะดั (admin/admin) |
| ๐ป **Node Exporter** | http://localhost:9100 | ะกะธััะตะผะฝัะต ะผะตััะธะบะธ |
| ๐ณ **cAdvisor** | http://localhost:8080 | ะะตััะธะบะธ ะบะพะฝัะตะนะฝะตัะพะฒ |

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั

### ๐ผ๏ธ ะะฐะณััะทะบะฐ ะธะทะพะฑัะฐะถะตะฝะธะน
1. ะัะบัะพะนัะต http://localhost:8000
2. ะะตัะตัะฐัะธัะต ะธะทะพะฑัะฐะถะตะฝะธะต ะธะปะธ ะบะปะธะบะฝะธัะต ะดะปั ะฒัะฑะพัะฐ
3. ะะพะปััะธัะต ัะตะทัะปััะฐั ะบะปะฐััะธัะธะบะฐัะธะธ
4. ะัะพัะผะฐััะธะฒะฐะนัะต ััะฐัะธััะธะบั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

### ๐ API ัะฝะดะฟะพะธะฝัั
```bash
# ะะปะฐััะธัะธะบะฐัะธั ะธะทะพะฑัะฐะถะตะฝะธั
curl -X POST -F "file=@image.jpg" http://localhost:8000/predict

# ะกัะฐัะธััะธะบะฐ ะฟัะธะปะพะถะตะฝะธั
curl http://localhost:8000/stats

# ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั
curl http://localhost:8000/health
```

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะผะตััะธะบะธ

### Grafana ะดะฐัะฑะพัะดั
- ๐ **ะกะบะพัะพััั ะฟัะตะดัะบะฐะทะฐะฝะธะน** (predictions/sec)
- โฑ๏ธ **ะัะตะผั ะธะฝัะตัะตะฝัะฐ** (95th percentile)
- ๐ป **ะัะฟะพะปัะทะพะฒะฐะฝะธะต CPU/ะฟะฐะผััะธ**
- ๐ฏ **ะะฐัะฟัะตะดะตะปะตะฝะธะต ะฟะพ ะบะปะฐััะฐะผ**
- ๐ **HTTP ะผะตััะธะบะธ**

### ะะปััะตะฒัะต ะผะตััะธะบะธ
- `ml_predictions_total` - ะพะฑัะตะต ะบะพะปะธัะตััะฒะพ ะฟัะตะดัะบะฐะทะฐะฝะธะน
- `ml_inference_duration_seconds` - ะฒัะตะผั ะธะฝัะตัะตะฝัะฐ
- `ml_predictions_by_class` - ะฟัะตะดัะบะฐะทะฐะฝะธั ะฟะพ ะบะปะฐััะฐะผ
- `http_request_duration_seconds` - ะฒัะตะผั HTTP ะทะฐะฟัะพัะพะฒ

## ๐ณ Docker ะบะพะผะฐะฝะดั

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตัะฒะธัะพะฒ
docker-compose -f docker-compose-extended.yml up -d

# ะัะพัะผะพัั ะปะพะณะพะฒ
docker-compose -f docker-compose-extended.yml logs -f

# ะััะฐะฝะพะฒะบะฐ ัะตัะฒะธัะพะฒ
docker-compose -f docker-compose-extended.yml down

# ะะตัะตัะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ
docker-compose -f docker-compose-extended.yml build --no-cache
```

## โก ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะะฐ ัะธะฟะธัะฝะพะผ CPU (i5-8250U):
- **ะัะตะผั ะธะฝัะตัะตะฝัะฐ**: ~0.7 ะผั
- **ะัะพะฟััะบะฝะฐั ัะฟะพัะพะฑะฝะพััั**: ~1400 ะธะทะพะฑัะฐะถะตะฝะธะน/ัะตะบ
- **ะัะตะผั ะพัะบะปะธะบะฐ ะฒะตะฑ-ะธะฝัะตััะตะนัะฐ**: ~50-100 ะผั
- **ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะฐะผััะธ**: ~150 MB

### ะะฟัะธะผะธะทะฐัะธะธ
- โ CPU-ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะต ะผะพะดะตะปะธ
- โ ONNX ะดะปั ััะบะพัะตะฝะธั
- โ ะัะธะฝััะพะฝะฝัะน ะฒะตะฑ-ัะตัะฒะตั
- โ ะะตัะธัะพะฒะฐะฝะธะต ััะฐัะธัะตัะบะธั ัะฐะนะปะพะฒ

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
```bash
export ML_MODEL_PATH=models/working_model.pth
export WEB_PORT=8000
export PROMETHEUS_PORT=9090
export GRAFANA_PORT=3000
```

### ะะฐััะพะผะธะทะฐัะธั
- **ะะพะดะตะปั**: ะะทะผะตะฝะธัะต `working_demo.py`
- **ะะตะฑ-ะธะฝัะตััะตะนั**: ะะตะดะฐะบัะธััะนัะต HTML ะฒ `web_app.py`
- **ะะตััะธะบะธ**: ะะฐัััะพะนัะต `prometheus-extended.yml`
- **ะะฐัะฑะพัะดั**: ะะฑะฝะพะฒะธัะต `grafana-dashboard-extended.json`

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# ะขะตัั ะฑะฐะทะพะฒัั ะบะพะผะฟะพะฝะตะฝัะพะฒ
python final_test.py

# ะขะตัั ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธั
curl http://localhost:8000/health

# ะะฐะณััะทะพัะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต
for i in {1..100}; do
    curl -X POST -F "file=@test_image.jpg" http://localhost:8000/predict
done
```

## ๐๏ธ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ะฝะต ะทะฐะฟััะบะฐะตััั
```bash
# ะัะพะฒะตัััะต ะผะพะดะตะปั
ls -la models/working_model.pth

# ะะตัะตัััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
pip install "numpy<2.0" fastapi uvicorn pillow
```

### Docker ะฟัะพะฑะปะตะผั
```bash
# ะัะธััะบะฐ
docker system prune -f
docker-compose -f docker-compose-extended.yml down -v

# ะะตัะตัะฑะพัะบะฐ
docker-compose -f docker-compose-extended.yml build --no-cache
```

### ะัะพะฑะปะตะผั ั ะฟะพััะฐะผะธ
- ะะทะผะตะฝะธัะต ะฟะพััั ะฒ `docker-compose-extended.yml`
- ะะปะธ ะพััะฐะฝะพะฒะธัะต ะบะพะฝัะปะธะบััััะธะต ัะตัะฒะธัั

## ๐ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Web Browser   โโโโโถโ   ML Web App     โโโโโถโ   ML Model      โ
โ   (Frontend)    โ    โ   (FastAPI)      โ    โ   (PyTorch)     โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                โ                        โ
                                โผ                        โผ
                       โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                       โ   Prometheus     โ    โ   ONNX Model    โ
                       โ   (Metrics)      โ    โ   (Optimized)   โ
                       โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                โ
                                โผ
                       โโโโโโโโโโโโโโโโโโโโ
                       โ     Grafana      โ
                       โ   (Dashboard)    โ
                       โโโโโโโโโโโโโโโโโโโโ
```

## ๐ฏ ะงัะพ ะดะฐะปััะต

1. **ะะฒัะพัะบะตะนะปะธะฝะณ**: Kubernetes deployment
2. **CI/CD**: GitHub Actions ะฟะฐะนะฟะปะฐะนะฝ
3. **A/B ัะตััะธัะพะฒะฐะฝะธะต**: ะกัะฐะฒะฝะตะฝะธะต ะผะพะดะตะปะตะน
4. **ะัะพะดะฒะธะฝัััะต ะผะตััะธะบะธ**: Drift detection
5. **ะะตะทะพะฟะฐัะฝะพััั**: ะััะตะฝัะธัะธะบะฐัะธั ะธ HTTPS

---

**๐ ะะพะทะดัะฐะฒะปัะตะผ! ะฃ ะฒะฐั ัะฐะฑะพัะฐะตั ะฟะพะปะฝะพัะตะฝะฝะฐั ML ัะธััะตะผะฐ ะฒ ะฟัะพะดะฐะบัะตะฝะต! ๐**