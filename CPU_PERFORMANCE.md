# üìä CPU Performance Report

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö CPU –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö.

## –¢–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Config 1: –ë—é–¥–∂–µ—Ç–Ω—ã–π –Ω–æ—É—Ç–±—É–∫
- **CPU**: Intel Core i3-8130U (2 —è–¥—Ä–∞, 4 –ø–æ—Ç–æ–∫–∞, 2.2GHz)
- **RAM**: 8GB DDR4
- **SSD**: 256GB SATA

### Config 2: –°—Ä–µ–¥–Ω–∏–π –Ω–æ—É—Ç–±—É–∫  
- **CPU**: Intel Core i5-8250U (4 —è–¥—Ä–∞, 8 –ø–æ—Ç–æ–∫–æ–≤, 1.6-3.4GHz)
- **RAM**: 16GB DDR4
- **SSD**: 512GB NVMe

### Config 3: –ú–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫
- **CPU**: Intel Core i7-10750H (6 —è–¥–µ—Ä, 12 –ø–æ—Ç–æ–∫–æ–≤, 2.6-5.0GHz)
- **RAM**: 32GB DDR4
- **SSD**: 1TB NVMe

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è (CIFAR-10)

| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | 5 —ç–ø–æ—Ö | 10 —ç–ø–æ—Ö | 25 —ç–ø–æ—Ö | –¢–æ—á–Ω–æ—Å—Ç—å (10 —ç–ø–æ—Ö) |
|-------------|--------|---------|---------|-------------------|
| Config 1    | 8 –º–∏–Ω  | 16 –º–∏–Ω  | 40 –º–∏–Ω  | ~60% |
| Config 2    | 5 –º–∏–Ω  | 10 –º–∏–Ω  | 25 –º–∏–Ω  | ~65% |
| Config 3    | 3 –º–∏–Ω  | 6 –º–∏–Ω   | 15 –º–∏–Ω  | ~70% |

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞

### Single Image Inference

| –ú–æ–¥–µ–ª—å | Config 1 | Config 2 | Config 3 |
|--------|----------|----------|----------|
| PyTorch Original | 120ms | 80ms | 45ms |
| ONNX | 60ms | 40ms | 22ms |
| Quantized | 35ms | 25ms | 15ms |
| Combined Opt | 30ms | 20ms | 12ms |

### Batch Inference (batch_size=8)

| –ú–æ–¥–µ–ª—å | Config 1 | Config 2 | Config 3 |
|--------|----------|----------|----------|
| PyTorch Original | 400ms | 280ms | 180ms |
| ONNX | 220ms | 150ms | 95ms |
| Quantized | 140ms | 95ms | 60ms |
| Combined Opt | 120ms | 80ms | 50ms |

## Throughput (images/second)

### Single Thread

| –ú–æ–¥–µ–ª—å | Config 1 | Config 2 | Config 3 |
|--------|----------|----------|----------|
| PyTorch Original | 8.3 | 12.5 | 22.2 |
| ONNX | 16.7 | 25.0 | 45.5 |
| Quantized | 28.6 | 40.0 | 66.7 |
| Combined Opt | 33.3 | 50.0 | 83.3 |

## Memory Usage

| –ü—Ä–æ—Ü–µ—Å—Å | Config 1 | Config 2 | Config 3 |
|---------|----------|----------|----------|
| Training | 2.5GB | 2.8GB | 3.2GB |
| Triton Server | 800MB | 850MB | 900MB |
| Preprocess Service | 150MB | 160MB | 170MB |
| **Total System** | **4.2GB** | **4.5GB** | **5.0GB** |

## Disk Usage

| Component | Size |
|-----------|------|
| Original PyTorch Model | 1.2MB |
| ONNX Model | 1.1MB |
| Quantized Model | 0.3MB |
| Combined Model | 0.3MB |
| Docker Images | ~2GB |
| CIFAR-10 Dataset | 170MB |

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ

### ONNX Conversion
- **Speedup**: 1.8-2.2x
- **–†–∞–∑–º–µ—Ä**: -8% (1.2MB ‚Üí 1.1MB)
- **–¢–æ—á–Ω–æ—Å—Ç—å**: –ë–µ–∑ –ø–æ—Ç–µ—Ä—å

### Quantization
- **Speedup**: 2.5-3.5x
- **–†–∞–∑–º–µ—Ä**: -75% (1.2MB ‚Üí 0.3MB)
- **–¢–æ—á–Ω–æ—Å—Ç—å**: -1-2%

### Combined Optimization
- **Speedup**: 3.0-4.0x
- **–†–∞–∑–º–µ—Ä**: -75%
- **–¢–æ—á–Ω–æ—Å—Ç—å**: -2-3%

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –î–ª—è –æ–±—É—á–µ–Ω–∏—è
```python
# –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è CPU
batch_size = 32 if cores >= 4 else 16
num_workers = 0  # –ò–∑–±–µ–≥–∞–µ–º multiprocessing issues
epochs = 10      # –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ –≤—Ä–µ–º–µ–Ω–µ–º
```

### –î–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
```python
# Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
use_quantized_model = True
batch_inference = True
batch_size = 4 if cores >= 4 else 2
```

## CPU-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. OpenMP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
export OMP_NUM_THREADS=4  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —è–¥–µ—Ä
export MKL_NUM_THREADS=4
```

### 2. Memory management
```python
torch.set_num_threads(4)  # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–æ—Ç–æ–∫–∏ PyTorch
```

### 3. Batch —Ä–∞–∑–º–µ—Ä—ã
- **Training**: 16-64 (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç RAM)
- **Inference**: 1-8 (–¥–ª—è real-time)

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å GPU

| –ú–µ—Ç—Ä–∏–∫–∞ | CPU (i7-10750H) | GPU (GTX 1660 Ti) | –†–∞–∑–Ω–∏—Ü–∞ |
|---------|-----------------|-------------------|---------|
| Training (10 —ç–ø–æ—Ö) | 6 –º–∏–Ω | 2 –º–∏–Ω | 3x –º–µ–¥–ª–µ–Ω–Ω–µ–µ |
| Inference | 12ms | 3ms | 4x –º–µ–¥–ª–µ–Ω–Ω–µ–µ |
| Memory | 5GB | 8GB | 37% –º–µ–Ω—å—à–µ |
| Power | 45W | 120W | 62% –º–µ–Ω—å—à–µ |

## –í—ã–≤–æ–¥—ã

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ CPU
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (–µ—Å—Ç—å —É –≤—Å–µ—Ö)
- –ù–∏–∑–∫–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è CPU
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–±—É—á–µ–Ω–∏–µ (3-4x)
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å (3-4x)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ batch size

### üéØ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è CPU
- **–û–±—É—á–µ–Ω–∏–µ**: –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –Ω–µ–±–æ–ª—å—à–∏–µ –º–æ–¥–µ–ª–∏
- **–ò–Ω—Ñ–µ—Ä–µ–Ω—Å**: Real-time –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –º–∞–ª—ã–º —Ç—Ä–∞—Ñ–∏–∫–æ–º
- **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- **–ü—Ä–æ–¥–∞–∫—à–Ω**: Edge —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, IoT

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU! –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å CPU –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞. –ö–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è –¥–∞–µ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ CPU, –ø–æ–∑–≤–æ–ª—è—è –¥–æ—Å—Ç–∏—á—å –ø—Ä–∏–µ–º–ª–µ–º–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–∂–µ –Ω–∞ –±—é–¥–∂–µ—Ç–Ω—ã—Ö –Ω–æ—É—Ç–±—É–∫–∞—Ö.